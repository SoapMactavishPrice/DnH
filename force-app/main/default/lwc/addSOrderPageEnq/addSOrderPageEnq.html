<template>

	<template if:true={showSpinner}>
		<div if:true={showSpinner} class="exampleHolder">
			<lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
		</div>
	</template>

	<template if:true={isModalOpen}>
		<section role="dialog" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1"
			class="slds-modal slds-fade-in-open">
			<div class="slds-modal__container" style="max-width: 80rem !important;width: 80% !important;">
				<header class="slds-modal__header">
					<!-- <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"
						onclick={goBackToRecord}>
						<lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
							size="small"></lightning-icon>
						<span class="slds-assistive-text">Close</span>
					</button> -->
					<template if:true={isFirstPage}>
						<h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Add Sales Order</h2>
						<!-- <h3 id="modal-heading-03">Price Book: {PriceBook}</h3> -->
					</template>
				</header>
				<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
					<template if:true={isFirstPage}>
						<div class="slds-p-around_xxx-small">
							<lightning-layout multiple-rows class="">

								<lightning-layout-item size="2" class="" style="margin-left:21%">
									<!-- <label class="frm-input-label"></label>
									<div class="slds-col" style="width:100%;margin-top:17px">
										<div class="slds-form-element" onmouseleave={toggleResult}>
											<div class="slds-combobox_container slds-has-selection">
												<div class="lookupInputContainer slds-combobox slds-dropdown-trigger
                                            slds-dropdown-trigger_click" aria-expanded="false" aria-haspopup="listbox"
													role="combobox">
													<div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_left-right"
														role="none">
														<div class="searchBoxWrapper slds-show">
															Lookup Input Field
															<lightning-input type="search" data-source="searchInputField" onclick={toggleResult}
																value={searchKey} variant="label-hidden" placeholder="Search Product here..."
																onkeyup={showFilteredProducts} class="searchBox"></lightning-input>
															<span if:true={showErrorMsg} style="color:red">First,
																enter
																keywords
																for a product. Then add filters and click
																Apply.</span>
														</div>
													</div>
													lookup search result part start
													<div style="margin-top:0px;display:none" id="listbox-id-5"
														class="lookupContainer slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid"
														role="listbox">
														<ul class="slds-listbox slds-listbox_vertical" role="presentation">
															<template for:each={lstResult} for:item="obj">
																<li key={obj.Id} role="presentation" class="slds-listbox__item">
																	<div data-recid={obj.Id} onclick={handelSelectedRecord}
																		class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta"
																		role="option">
																		<span style="pointer-events: none;"
																			class="slds-media__figure slds-listbox__option-icon">
																			<span class="slds-icon_container">
																				<lightning-icon icon-name="standard:product_item" size="small"
																					alternative-text="icon"></lightning-icon>
																			</span>
																		</span>
																		<span style="pointer-events: none;" class="slds-media__body">
																			<span
																				class="slds-listbox__option-text slds-listbox__option-text_entity">{obj.Name}</span>
																			<span
																				class="slds-listbox__option-text slds-listbox__option-text_entity">{obj.ProductCode}</span>
																		</span>
																	</div>
																</li>
															</template>
															ERROR msg, if there is no records..
															<template if:false={hasRecords}>
																<li class="slds-listbox__item" style="text-align: center; font-weight: bold;">
																	No
																	Records
																	Found....</li>
															</template>
														</ul>
													</div>
												</div>
											</div>
										</div>
									</div> -->
								</lightning-layout-item>

							</lightning-layout>
						</div>

						<div class="demo-only demo-only--sizing slds-grid slds-wrap slds-scrollable_y" style="height:21rem;">
							<div class="slds-size_3-of-3">
								<div class="slds-text-align_center slds-m-top_x-small">
									<div class="slds-col slds-box">
										<lightning-datatable data={ShowTableData} key-field="Id" columns={cols} data-id="datatable"
											selected-rows={selectedProductCode} onrowselection={handleRowSelection}>
										</lightning-datatable>

									</div>
								</div>
							</div>
							<!-- <div class="slds-size_3-of-3 divclas" if:true={datafilterval}>
								<lightning-record-edit-form object-api-name="Item_Master__c">
									<lightning-layout multiple-rows>

										<lightning-layout-item size="4">
											<label class="frm-input-label">Product Family</label>
											<lightning-input-field field-name="Family" variant="label-hidden" name="ProductFamily"
												onchange={handleFilterChange} value={selectedValue}>
											</lightning-input-field>
										</lightning-layout-item>
									</lightning-layout>

								</lightning-record-edit-form>
								<lightning-button class="" label="Cancel" onclick={clearFilter}></lightning-button>
								<lightning-button class="slds-float_right slds-m-right_medium" variant="brand"
									disabled={disabledApplayButton} onclick={ApplyFilter} label="Apply"></lightning-button>
							</div> -->
						</div>

					</template>
					<footer class="slds-modal__footer">
						<div style="display:flex;justify-content: center;">
							<!-- <div class="slds-align_absolute-center" if:true={isFirstPage}>
								<lightning-button disabled={bDisableFirst} icon-name="utility:jump_to_left" label="First"
									class="slds-p-horizontal_x-small" alternative-text="first page"
									onclick={firstPage}></lightning-button>
								<lightning-button disabled={bDisableFirst} icon-name="utility:chevronleft" label="Previous"
									alternative-text="Previous" onclick={previousHandler}></lightning-button>
								&nbsp;
								<span class="slds-badge slds-badge_lightest" style="margin-right: 10px;margin-left: 10px;">
									Page {page} of {totalPage} | Total: {totalRecountCount}
								</span>
								&nbsp;
								<lightning-button disabled={bDisableLast} icon-name="utility:chevronright" label="Next"
									alternative-text="Next" onclick={nextHandler} class="slds-p-horizontal_x-small"
									icon-position="right"></lightning-button>
								<lightning-button disabled={bDisableLast} icon-name="utility:jump_to_right" label="Last"
									alternative-text="last page" onclick={lastPage} icon-position="right"></lightning-button>
							</div> -->

							<template if:true={isFirstPage}>
								<lightning-button class="slds-m-left_small" onclick={goBackToRecord} label="Cancel"></lightning-button>
							</template>
							<!-- <template if:true={isFirstPage}>
								<lightning-button class="slds-m-left_small" onclick={nextDetails} label="Next" variant="brand"
									disabled={DisableNext}></lightning-button>
							</template> -->
							<template if:true={isFirstPage}>
								<lightning-button class="slds-m-left_small" variant="brand" onclick={saveDetails}
									label="Save"></lightning-button>
							</template>
						</div>
					</footer>
				</div>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
	</template>

</template>