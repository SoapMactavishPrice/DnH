<!-- <template>
    <div if:true={showSpinner} class="exampleHolder">
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </div>

    <lightning-card>
        <template if:true={showData}>
            <div style="overflow-x: auto;">
                <table class="slds-table slds-table_cell-buffer slds-table_bordered custom-table freeze-first-col" style="min-width: 1200px;">
                    <thead>
                        <tr>
                            <th class="centered-column" style="width: 150px;"></th>
                            <template for:each={stateValues} for:item="stateval">
                                <th key={stateval} class="centered-column" style="width: 120px;">
                                    {stateval}
                                </th>
                            </template>
                        </tr>
                    </thead>
                    <tbody>
                        <template for:each={mainData} for:item="mv">
                            <tr key={mv.label}>
                                <td class="centered-column">{mv.label}</td>
                                <template for:each={mv.value} for:item="mv1">
                                    <td key={mv1} class="centered-column">{mv1.formatted}</td>
                                </template>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </template>
    </lightning-card>
</template> -->

<template>
    <div if:true={showSpinner} class="exampleHolder">
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </div>

    <lightning-card>
        <template if:true={showData}>
            <div style="overflow-x: auto;">
                <table class="slds-table slds-table_cell-buffer slds-table_bordered custom-table"
                    style="min-width: 1200px;">
                    <thead>
                        <tr>
                            <th class="centered-column" style="width: 150px;"></th>
                            <template for:each={headers2} for:item="header2">
                                <th colspan="3" key={header2} class="centered-column" style="width: 120px;">{header2}
                                </th>
                            </template>
                        </tr>
                        <tr>
                            <th class="centered-column" style="width: 150px;">State</th>
                            <template for:each={headers} for:item="header">
                                <th key={header} class="centered-column" style="width: 120px;">{header}</th>
                            </template>
                        </tr>
                    </thead>
                    <tbody>
                        <template for:each={transposedData} for:item="row">
                            <tr key={row.label}>
                                <td class="centered-column">{row.label}</td>
                                <template for:each={row.values} for:item="val">
                                    <td key={val} class="centered-column">{val}</td>
                                </template>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </template>
    </lightning-card>
</template>