<template>
    <template if:true={isModalOpen}>
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open custom-modal-width">
            <div class="slds-modal__container">
                
                <!-- Modal/Popup Header -->
                <header class="slds-modal__header">
                    
                    <h2 class="slds-text-heading_medium">Edit Enquiry Line Items</h2>
                </header>

                <!-- Modal Body -->
                <div class="slds-modal__content slds-p-around_medium">
                    <!-- Datatable for displaying Enquiry Line Items -->
                    <!-- <lightning-datatable
                        key-field="Id"
                        data={lineItems}handleSave
                        columns={columns}
                        onsave={handleSave}
                        draft-values={draftValues}
                        editable>
                          //onvalueselect={handlePicklistChange}
                    </lightning-datatable> -->
                    <c-custom-picklist
                            onvaluechange={handlePicklistChange}
                            oncellchange={handlePicklistChange} 
                            key-field="Id"
                            data={lineItems}
                            columns={columns}
                            onpicklistchanged={handlePicklistChange} 
                            draft-values={draftValues}
                            onsave={handleSave}>
                        </c-custom-picklist>

                </div>

                <!-- Modal Footer with Save Button -->
                <footer class="slds-modal__footer">
                    <lightning-button variant="neutral" label="Cancel" onclick={closeModal}></lightning-button>
                    <lightning-button variant="brand" label="Save Changes" onclick={handleSave}></lightning-button>
                </footer>

            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>